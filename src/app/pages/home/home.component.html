<div class="home-container">

  <div *ngIf="!currentUser" class="welcome-banner">
    <h1>Welcome to WorkConnect</h1>
    <p>The smarter way for blue-collar workers and employers in Sri Lanka to connect.</p>
    <div class="welcome-actions">
      <a routerLink="/register" class="btn btn-primary">Get Started</a>
      <a routerLink="/login" class="btn btn-secondary">Login</a>
    </div>
  </div>

  <div *ngIf="currentUser">
    <h2>Hello, {{ currentUser.username }}!</h2>

    <div class="recommendations-section">
      <h3>âœ¨ Recommended Jobs For You</h3>
      <p>Our AI has matched these jobs to your profile.</p>

      <div *ngIf="isLoading" class="loading-indicator">
        <p>Finding your personalized job matches...</p>
      </div>
      <div *ngIf="error" class="error-message">
        <p>Could not load recommendations. {{ error }}</p>
      </div>

      <div *ngIf="!isLoading && !error" class="job-grid">
        <div *ngFor="let job of recommendedJobs" class="job-card">
          <h3 class="job-title">{{ job.title }}</h3>
          <p class="job-location">{{ job.location }}</p>
          <p class="job-description">{{ job.description | slice:0:100 }}...</p>
          <a class="details-button" [routerLink]="['/job', job.id]">View Details</a>
        </div>
        <div *ngIf="recommendedJobs.length === 0" class="no-jobs">
          <p>No specific recommendations found right now. Try updating your profile or browse all jobs!</p>
          <a routerLink="/jobs" class="btn btn-secondary">Browse All Jobs</a>
        </div>
      </div>
    </div>
  </div>

</div>
